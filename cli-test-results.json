{
  "timestamp": "2025-09-18T16:55:04.550Z",
  "selectedTests": [
    "frontend",
    "health"
  ],
  "tests": {
    "frontend": {
      "name": "Frontend Integration Verification",
      "status": "completed",
      "timestamp": "2025-09-18T16:55:06.264Z",
      "details": {
        "exitCode": 0,
        "output": "⚠️  Puppeteer not installed. Running in basic mode without browser automation.\n💡 To enable full frontend testing, install puppeteer: npm install puppeteer\n🎯 Starting Frontend Integration Verification Suite...\n\n🚀 Initializing Frontend Integration Verification...\n📋 Running in basic HTTP mode (no browser automation)\n\n📋 Testing: Production URL Loading Verification\n🔍 Checking URL accessibility with HTTP request...\n✅ Production URL Loading: passed\n\n📋 Testing: Broker Setup Interface\n🔍 Analyzing page content for interface elements...\n🔍 Testing OAuth endpoint availability...\n✅ Broker Setup Interface: passed\n\n📋 Testing: OAuth Flow Initiation\n🔍 Testing OAuth endpoint availability...\n🔍 Testing health endpoint...\n🔍 Testing CORS configuration...\n🔍 Testing SSL/TLS configuration...\n✅ OAuth Flow Initiation: passed\n\n📋 Testing: User Experience Verification\n🔍 Measuring response time...\n🔍 Analyzing content quality...\n🔍 Checking security headers...\n🔍 Testing error handling...\n✅ User Experience: passed\n\n📊 Generating Frontend Integration Report...\n📄 Reports saved:\n  - frontend-integration-report.json (detailed)\n  - frontend-integration-summary.md (summary)\n\n🎉 Frontend Integration Verification Complete!\n📊 Overall Status: PASSED\n📈 Success Rate: 100%\n",
        "success": true
      },
      "duration": 1713
    },
    "health": {
      "name": "Health Monitoring",
      "status": "completed",
      "timestamp": "2025-09-18T16:55:10.630Z",
      "details": {
        "exitCode": 0,
        "output": "🏥 Production Endpoint Health Monitoring\n========================================\n🌐 Backend URL: https://web-production-de0bc.up.railway.app\n⏱️  Started at: 2025-09-18T16:55:06.298Z\n\n📋 Phase 1: Setup OAuth Endpoint Health Check\n==============================================\n🔍 Checking /api/auth/broker/setup-oauth endpoint health...\n  🔍 Endpoint Availability (404 Check)\n     Verify endpoint exists and is not returning 404\n  ✅ PASS (765ms)\n     📊 Details: {\n      \"status\": 400,\n      \"available\": true,\n      \"responseTime\": 765.476792,\n      \"timestamp\": \"2025-09-18T16:55:07.066Z\"\n}\n\n  🔍 Valid Request Processing\n     Test endpoint with valid data to ensure proper processing\n  ✅ PASS (164ms)\n     📊 Details: {\n      \"status\": 500,\n      \"validProcessing\": \"Database connection not initialized\",\n      \"response\": {\n            \"success\": false,\n            \"error\": \"Failed to setup OAuth\",\n            \"message\": \"Database connection not initialized\"\n      },\n      \"responseTime\": 164.39195899999993,\n      \"timestamp\": \"2025-09-18T16:55:07.231Z\"\n}\n\n  🔍 Invalid Request Data Detection\n     Verify proper error handling for invalid requests\n  ✅ PASS (74ms)\n     📊 Details: {\n      \"status\": 400,\n      \"properErrorHandling\": true,\n      \"errorMessage\": \"Invalid request data\",\n      \"responseTime\": 73.79279200000008,\n      \"timestamp\": \"2025-09-18T16:55:07.306Z\"\n}\n\n📋 Phase 2: Broker Health Endpoint Check\n========================================\n🔍 Checking /api/auth/broker/health endpoint health...\n  🔍 Endpoint Availability\n     Verify health endpoint is accessible\n  ✅ PASS (793ms)\n     📊 Details: {\n      \"status\": 200,\n      \"available\": true,\n      \"responseTime\": 793.3712919999999,\n      \"timestamp\": \"2025-09-18T16:55:08.101Z\"\n}\n\n  🔍 Successful Health Status\n     Verify health endpoint returns successful status\n  ✅ PASS (537ms)\n     📊 Details: {\n      \"status\": 200,\n      \"successField\": true,\n      \"healthData\": {\n            \"status\": \"healthy\",\n            \"brokerService\": \"operational\",\n            \"components\": {\n                  \"brokerConfigs\": {\n                        \"status\": \"error\",\n                        \"error\": \"Database connection not initialized\",\n                        \"timestamp\": \"2025-09-18T16:55:08.537Z\"\n                  },\n                  \"tokenManager\": {\n                        \"status\": \"healthy\",\n                        \"tokenManager\": \"operational\",\n                        \"components\": {\n                              \"oauthTokens\": {\n                                    \"status\": \"error\",\n                                    \"error\": \"Database connection not initialized\",\n                                    \"timestamp\": \"2025-09-18T16:55:08.537Z\"\n                              },\n                              \"brokerConfigs\": {\n                                    \"status\": \"error\",\n                                    \"error\": \"Database connection not initialized\",\n                                    \"timestamp\": \"2025-09-18T16:55:08.537Z\"\n                              },\n                              \"kiteClient\": {\n                                    \"status\": \"healthy\",\n                                    \"kiteApiReachable\": true,\n                                    \"statusCode\": 429,\n                                    \"timestamp\": \"2025-09-18T16:55:08.564Z\"\n                              }\n                        },\n                        \"refreshJob\": \"running\",\n                        \"timestamp\": \"2025-09-18T16:55:08.565Z\"\n                  },\n                  \"kiteClient\": {\n                        \"status\": \"healthy\",\n                        \"kiteApiReachable\": true,\n                        \"statusCode\": 429,\n                        \"timestamp\": \"2025-09-18T16:55:08.607Z\"\n                  }\n            },\n            \"monitoring\": \"active\",\n            \"timestamp\": \"2025-09-18T16:55:08.607Z\"\n      },\n      \"responseTime\": 536.6747909999997,\n      \"timestamp\": \"2025-09-18T16:55:08.638Z\"\n}\n\n  🔍 Response Format Validation\n     Verify health endpoint returns proper JSON structure\n  ✅ PASS (504ms)\n     📊 Details: {\n      \"status\": 200,\n      \"validFormat\": true,\n      \"hasSuccessField\": true,\n      \"hasDataField\": true,\n      \"responseTime\": 503.53041699999994,\n      \"timestamp\": \"2025-09-18T16:55:09.143Z\"\n}\n\n📋 Phase 3: HTTP Status and Response Format Verification\n========================================================\n🔍 Verifying HTTP status codes and response formats...\n  🔍 Application Health Status\n  ✅ PASS (75ms)\n     📊 Status: 200/200, Format: Valid\n\n  🔍 Auth Module Debug Status\n  ✅ PASS (80ms)\n     📊 Status: 200/200, Format: Valid\n\n  🔍 OAuth Health Status\n  ✅ PASS (538ms)\n     📊 Status: 200/200, Format: Valid\n\n  🔍 OAuth Setup Bad Request Status\n  ✅ PASS (74ms)\n     📊 Status: 400/400, Format: Valid\n\n📋 Phase 4: Error Response Analysis\n===================================\n🔍 Analyzing error response patterns...\n  🔍 Invalid Request Data Error Detection\n     Test for proper \"Invalid request data\" error responses\n  ✅ PASS (163ms)\n     📊 Details: {\n      \"hasInvalidRequestDataError\": true,\n      \"status\": 400,\n      \"errorMessage\": \"Invalid request data\",\n      \"responseTime\": 163.14799999999968\n}\n\n  🔍 Missing Required Fields Error\n     Test error responses for missing required fields\n  ✅ PASS (386ms)\n     📊 Details: {\n      \"hasProperValidationError\": true,\n      \"status\": 400,\n      \"errorMessage\": \"Invalid request data\",\n      \"details\": \"\\\"api_key\\\" is required\",\n      \"responseTime\": 386.1102090000004\n}\n\n  🔍 Database Connection Error Handling\n     Test error handling for database connection issues\n  ✅ PASS (165ms)\n     📊 Details: {\n      \"hasProperDbErrorHandling\": \"Database connection not initialized\",\n      \"status\": 500,\n      \"errorMessage\": \"Failed to setup OAuth\",\n      \"responseTime\": 164.5350410000001\n}\n\n📊 Production Health Monitoring Summary\n======================================\n🔧 Setup OAuth Endpoint: HEALTHY (3/3)\n🏥 Broker Health Endpoint: HEALTHY (3/3)\n📋 HTTP Status & Formats: HEALTHY (4/4)\n❌ Error Response Analysis: HEALTHY (3/3)\n\n⏱️  Total Execution Time: 4330ms\n📈 Total Health Checks: 13\n✅ Checks Passed: 13\n❌ Checks Failed: 0\n🔗 Average Response Time: 277ms\n📊 Health Score: 100%\n🕐 Last Check: 2025-09-18T16:55:06.300Z\n\n🎉 Production endpoints are healthy!\n✅ All OAuth endpoints responding correctly\n✅ No 404 errors detected\n✅ Proper HTTP status codes and response formats\n✅ Error handling working correctly\n✅ System ready for production use\n\n🏁 Health monitoring completed at: 2025-09-18T16:55:10.627Z\n📊 Final Health Status: HEALTHY\n",
        "success": true
      },
      "duration": 4366
    }
  },
  "summary": {
    "total": 2,
    "completed": 2,
    "failed": 0,
    "skipped": 0
  }
}