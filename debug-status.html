<!DOCTYPE html>
<html>
<head>
    <title>Debug Broker Status</title>
</head>
<body>
    <h1>Broker Status Debugger</h1>
    <div id="output"></div>
    
    <script>
        function log(message) {
            document.getElementById('output').innerHTML += message + '<br>';
            console.log(message);
        }
        
        log('üîç Checking localStorage for broker configurations...');
        
        // Check broker configs
        const brokerConfigs = localStorage.getItem('brokerConfigs');
        log('üìã brokerConfigs raw: ' + (brokerConfigs || 'null'));
        
        if (brokerConfigs) {
            try {
                const configs = JSON.parse(brokerConfigs);
                log('‚úÖ Parsed ' + configs.length + ' broker config(s)');
                configs.forEach((config, i) => {
                    log(`   Config ${i + 1}:`);
                    log(`     - id: ${config.id}`);
                    log(`     - broker_name: ${config.broker_name}`);
                    log(`     - is_connected: ${config.is_connected}`);
                    log(`     - access_token: ${config.access_token ? 'EXISTS' : 'MISSING'}`);
                    log(`     - user_data: ${config.user_data ? JSON.stringify(config.user_data) : 'MISSING'}`);
                });
            } catch (error) {
                log('‚ùå Error parsing broker configs: ' + error.message);
            }
        } else {
            log('‚ùå No broker configs found in localStorage');
        }
        
        // Check user data
        const userData = localStorage.getItem('userData');
        log('üë§ userData: ' + (userData || 'null'));
        
        // Check other relevant data
        const strategies = localStorage.getItem('strategies');
        log('üìä strategies: ' + (strategies || 'null'));
        
        const dashboardWidgets = localStorage.getItem('dashboardWidgets');
        log('üì± dashboardWidgets: ' + (dashboardWidgets || 'null'));
        
        log('‚úÖ Debug complete');
    </script>
</body>
</html> 