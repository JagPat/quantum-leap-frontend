[
  {
    "timestamp": "2025-09-18T21:40:25.056Z",
    "duration": 11833,
    "results": {
      "timestamp": "2025-09-18T21:40:13.248Z",
      "selectedTests": [
        "health",
        "oauth",
        "security"
      ],
      "tests": {
        "health": {
          "name": "Health Monitoring",
          "status": "completed",
          "timestamp": "2025-09-18T21:40:17.591Z",
          "details": {
            "exitCode": 0,
            "output": "ğŸ¥ Production Endpoint Health Monitoring\n========================================\nğŸŒ Backend URL: https://web-production-de0bc.up.railway.app\nâ±ï¸  Started at: 2025-09-18T21:40:13.273Z\n\nğŸ“‹ Phase 1: Setup OAuth Endpoint Health Check\n==============================================\nğŸ” Checking /api/auth/broker/setup-oauth endpoint health...\n  ğŸ” Endpoint Availability (404 Check)\n     Verify endpoint exists and is not returning 404\n  âœ… PASS (730ms)\n     ğŸ“Š Details: {\n      \"status\": 400,\n      \"available\": true,\n      \"responseTime\": 730.262666,\n      \"timestamp\": \"2025-09-18T21:40:14.004Z\"\n}\n\n  ğŸ” Valid Request Processing\n     Test endpoint with valid data to ensure proper processing\n  âœ… PASS (194ms)\n     ğŸ“Š Details: {\n      \"status\": 500,\n      \"validProcessing\": \"Database connection not initialized\",\n      \"response\": {\n            \"success\": false,\n            \"error\": \"Failed to setup OAuth\",\n            \"message\": \"Database connection not initialized\"\n      },\n      \"responseTime\": 194.30162500000006,\n      \"timestamp\": \"2025-09-18T21:40:14.199Z\"\n}\n\n  ğŸ” Invalid Request Data Detection\n     Verify proper error handling for invalid requests\n  âœ… PASS (76ms)\n     ğŸ“Š Details: {\n      \"status\": 400,\n      \"properErrorHandling\": true,\n      \"errorMessage\": \"Invalid request data\",\n      \"responseTime\": 76.12895900000001,\n      \"timestamp\": \"2025-09-18T21:40:14.275Z\"\n}\n\nğŸ“‹ Phase 2: Broker Health Endpoint Check\n========================================\nğŸ” Checking /api/auth/broker/health endpoint health...\n  ğŸ” Endpoint Availability\n     Verify health endpoint is accessible\n  âœ… PASS (968ms)\n     ğŸ“Š Details: {\n      \"status\": 200,\n      \"available\": true,\n      \"responseTime\": 968.0299160000001,\n      \"timestamp\": \"2025-09-18T21:40:15.244Z\"\n}\n\n  ğŸ” Successful Health Status\n     Verify health endpoint returns successful status\n  âœ… PASS (681ms)\n     ğŸ“Š Details: {\n      \"status\": 200,\n      \"successField\": true,\n      \"healthData\": {\n            \"status\": \"healthy\",\n            \"brokerService\": \"operational\",\n            \"components\": {\n                  \"brokerConfigs\": {\n                        \"status\": \"error\",\n                        \"error\": \"Database connection not initialized\",\n                        \"timestamp\": \"2025-09-18T21:40:15.737Z\"\n                  },\n                  \"tokenManager\": {\n                        \"status\": \"healthy\",\n                        \"tokenManager\": \"operational\",\n                        \"components\": {\n                              \"oauthTokens\": {\n                                    \"status\": \"error\",\n                                    \"error\": \"Database connection not initialized\",\n                                    \"timestamp\": \"2025-09-18T21:40:15.737Z\"\n                              },\n                              \"brokerConfigs\": {\n                                    \"status\": \"error\",\n                                    \"error\": \"Database connection not initialized\",\n                                    \"timestamp\": \"2025-09-18T21:40:15.737Z\"\n                              },\n                              \"kiteClient\": {\n                                    \"status\": \"healthy\",\n                                    \"kiteApiReachable\": true,\n                                    \"statusCode\": 405,\n                                    \"timestamp\": \"2025-09-18T21:40:15.856Z\"\n                              }\n                        },\n                        \"refreshJob\": \"running\",\n                        \"timestamp\": \"2025-09-18T21:40:15.856Z\"\n                  },\n                  \"kiteClient\": {\n                        \"status\": \"healthy\",\n                        \"kiteApiReachable\": true,\n                        \"statusCode\": 405,\n                        \"timestamp\": \"2025-09-18T21:40:15.945Z\"\n                  }\n            },\n            \"monitoring\": \"active\",\n            \"timestamp\": \"2025-09-18T21:40:15.945Z\"\n      },\n      \"responseTime\": 680.9156249999999,\n      \"timestamp\": \"2025-09-18T21:40:15.926Z\"\n}\n\n  ğŸ” Response Format Validation\n     Verify health endpoint returns proper JSON structure\n  âœ… PASS (571ms)\n     ğŸ“Š Details: {\n      \"status\": 200,\n      \"validFormat\": true,\n      \"hasSuccessField\": true,\n      \"hasDataField\": true,\n      \"responseTime\": 571.4015420000001,\n      \"timestamp\": \"2025-09-18T21:40:16.498Z\"\n}\n\nğŸ“‹ Phase 3: HTTP Status and Response Format Verification\n========================================================\nğŸ” Verifying HTTP status codes and response formats...\n  ğŸ” Application Health Status\n  âœ… PASS (75ms)\n     ğŸ“Š Status: 200/200, Format: Valid\n\n  ğŸ” Auth Module Debug Status\n  âœ… PASS (74ms)\n     ğŸ“Š Status: 200/200, Format: Valid\n\n  ğŸ” OAuth Health Status\n  âœ… PASS (535ms)\n     ğŸ“Š Status: 200/200, Format: Valid\n\n  ğŸ” OAuth Setup Bad Request Status\n  âœ… PASS (78ms)\n     ğŸ“Š Status: 400/400, Format: Valid\n\nğŸ“‹ Phase 4: Error Response Analysis\n===================================\nğŸ” Analyzing error response patterns...\n  ğŸ” Invalid Request Data Error Detection\n     Test for proper \"Invalid request data\" error responses\n  âœ… PASS (75ms)\n     ğŸ“Š Details: {\n      \"hasInvalidRequestDataError\": true,\n      \"status\": 400,\n      \"errorMessage\": \"Invalid request data\",\n      \"responseTime\": 74.86637500000006\n}\n\n  ğŸ” Missing Required Fields Error\n     Test error responses for missing required fields\n  âœ… PASS (74ms)\n     ğŸ“Š Details: {\n      \"hasProperValidationError\": true,\n      \"status\": 400,\n      \"errorMessage\": \"Invalid request data\",\n      \"details\": \"\\\"api_key\\\" is required\",\n      \"responseTime\": 74.18849999999975\n}\n\n  ğŸ” Database Connection Error Handling\n     Test error handling for database connection issues\n  âœ… PASS (171ms)\n     ğŸ“Š Details: {\n      \"hasProperDbErrorHandling\": \"Database connection not initialized\",\n      \"status\": 500,\n      \"errorMessage\": \"Failed to setup OAuth\",\n      \"responseTime\": 170.5619999999999\n}\n\nğŸ“Š Production Health Monitoring Summary\n======================================\nğŸ”§ Setup OAuth Endpoint: HEALTHY (3/3)\nğŸ¥ Broker Health Endpoint: HEALTHY (3/3)\nğŸ“‹ HTTP Status & Formats: HEALTHY (4/4)\nâŒ Error Response Analysis: HEALTHY (3/3)\n\nâ±ï¸  Total Execution Time: 4312ms\nğŸ“ˆ Total Health Checks: 13\nâœ… Checks Passed: 13\nâŒ Checks Failed: 0\nğŸ”— Average Response Time: 306ms\nğŸ“Š Health Score: 100%\nğŸ• Last Check: 2025-09-18T21:40:13.273Z\n\nğŸ‰ Production endpoints are healthy!\nâœ… All OAuth endpoints responding correctly\nâœ… No 404 errors detected\nâœ… Proper HTTP status codes and response formats\nâœ… Error handling working correctly\nâœ… System ready for production use\n\nğŸ Health monitoring completed at: 2025-09-18T21:40:17.584Z\nğŸ“Š Final Health Status: HEALTHY\n",
            "success": true
          },
          "duration": 4342
        },
        "oauth": {
          "name": "OAuth Endpoint Verification",
          "status": "failed",
          "error": "Script failed with exit code 1: ",
          "timestamp": "2025-09-18T21:40:20.508Z",
          "duration": 2917
        },
        "security": {
          "name": "Security Verification",
          "status": "failed",
          "error": "Script failed with exit code 1: ",
          "timestamp": "2025-09-18T21:40:25.051Z",
          "duration": 4543
        }
      },
      "summary": {
        "total": 3,
        "completed": 1,
        "failed": 2,
        "skipped": 0
      }
    },
    "metrics": {
      "totalTests": 3,
      "completedTests": 1,
      "failedTests": 2,
      "successRate": 33,
      "errorRate": 67,
      "avgResponseTime": 3934,
      "maxResponseTime": 4543,
      "minResponseTime": 2917
    },
    "status": "unhealthy"
  }
]